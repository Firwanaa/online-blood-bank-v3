{"ast":null,"code":"import { BloodType } from 'src/app/enumerations/bloodType.enum';\nimport { Donor } from '../donor.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../donor.service\";\nimport * as i2 from \"src/app/service/notification.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-google-places-autocomplete\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"placesRef\"];\n\nfunction DonorAddComponent_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const bloodType_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", bloodType_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", bloodType_r2, \" \");\n  }\n}\n\nexport let DonorAddComponent = /*#__PURE__*/(() => {\n  class DonorAddComponent {\n    constructor(donorService, notificationService) {\n      this.donorService = donorService;\n      this.notificationService = notificationService;\n      this.options = {\n        types: ['address'],\n        componentRestrictions: {\n          country: 'CA'\n        },\n        bounds: undefined,\n        fields: ['address_components', 'geometry', 'formatted_address'],\n        strictBounds: false,\n        origin: undefined\n      };\n      this.formattedAddress = '';\n      this.bloodTypes = Object.values(BloodType);\n    }\n\n    ngOnInit() {}\n\n    onDonorAdd(event) {\n      let donor = new Donor(this.name, this.username, this.email, this.city, this.postalCode, this.address, this.bloodType, this.isAvailable, this.lat, this.lng);\n      console.log(this.name);\n      console.log(this.username);\n      console.log(this.email);\n      console.log(this.city);\n      console.log(this.postalCode);\n      console.log(this.address);\n      console.log(this.bloodType);\n      console.log(this.isAvailable);\n      console.log(this.lat);\n      console.log(this.lng);\n\n      if (this.name == '' || this.username == '' || this.email == '' || this.city == '' || this.postalCode == '' || this.address == '') {\n        this.notificationService.notify('error', 'No Empty Fields Allowed');\n        return;\n      } else {\n        this.donorService.addDonor(donor).subscribe(newDonor => {\n          console.log(this.name);\n          console.log(this.username);\n          console.log(this.email);\n          console.log(this.city);\n          console.log(this.postalCode);\n          console.log(this.address);\n          console.log(this.bloodType);\n          console.log(this.isAvailable);\n          console.log(this.lat);\n          console.log(this.lng);\n          this.donorService.onDonorAdded.emit(newDonor); //empty these variables after adding\n\n          this.name = '';\n          this.username = '';\n          this.email = '';\n          this.city = '';\n          this.postalCode = '';\n          this.address = '';\n          this.bloodType = null;\n          this.isAvailable = false;\n          this.lat = null;\n          this.lng = null;\n        });\n        this.notificationService.notify('success', 'New Post added successfully');\n      }\n    }\n\n    handleAddressChange(address) {\n      // Do some stuff\n      this.formattedAddress = address.formatted_address; // this.address = address.formatted_address;\n      // this.city = address.address_components[3].long_name;\n      // this.postalCode = address.address_components['postcode'];\n\n      for (var i = 0; i < address.address_components.length; i++) {\n        for (var j = 0; j < address.address_components[i].types.length; j++) {\n          if (address.address_components[i].types[j] == 'postal_code') {\n            this.postalCode = address.address_components[i].long_name;\n          }\n        }\n      }\n\n      for (var i = 0; i < address.address_components.length; i++) {\n        for (var j = 0; j < address.address_components[i].types.length; j++) {\n          if (address.address_components[i].types[j] == 'locality') {\n            this.city = address.address_components[i].long_name;\n            console.log('****** City', this.city);\n          }\n        }\n      }\n\n      this.lat = address.geometry.location.lat();\n      this.lng = address.geometry.location.lng();\n      console.log('Lattitued: ', address.geometry.location.lat());\n      console.log('Lattitued: ', address.geometry.location.lng()); // console.log('Lattitued: ',  address[0].geometry.location.lat());\n\n      console.log(address.geometry.location.lng);\n      console.log(address.formatted_address);\n      console.log(address.address_components.length);\n      console.log(address.address_components); // console.log(address.address_components[0]);\n      // console.log(address.address_components[1]);\n      // console.log(address.address_components[2]);\n      // console.log(address.address_components[3]);\n      // console.log(address.address_components[4]);\n      // console.log(address.address_components[5]);\n      // console.log(address.address_components[6]);\n      // console.log(address.address_components[7]);\n      // console.log(address.address_components[8]);\n      // console.log(address.address_components[9]);\n      // console.log(address.address_components[10]);\n    }\n\n  }\n\n  DonorAddComponent.ɵfac = function DonorAddComponent_Factory(t) {\n    return new (t || DonorAddComponent)(i0.ɵɵdirectiveInject(i1.DonorService), i0.ɵɵdirectiveInject(i2.NotificationService));\n  };\n\n  DonorAddComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DonorAddComponent,\n    selectors: [[\"app-donor-add\"]],\n    viewQuery: function DonorAddComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.placesRef = _t.first);\n      }\n    },\n    decls: 45,\n    vars: 10,\n    consts: [[\"src\", \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/101448/wedding-divider-png-9.png\", 1, \"image-divider\"], [1, \"divi\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"placeholder\", \"Name\", 1, \"form-control\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"placeholder\", \"Username\", 1, \"form-control\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"for\", \"inputEmail4\"], [\"type\", \"email\", \"id\", \"inputEmail4\", \"placeholder\", \"Email\", 1, \"form-control\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"for\", \"inputAddress\"], [\"autocomplete\", \"off\", \"ngx-google-places-autocomplete\", \"\", \"type\", \"text\", \"id\", \"inputAddress\", \"placeholder\", \"7897 McLaughlin Rd\", 1, \"form-control\", 3, \"options\", \"ngModel\", \"onAddressChange\", \"keyup.enter\", \"ngModelChange\"], [\"placesRef\", \"ngx-places\"], [\"for\", \"inputZip\"], [\"type\", \"text\", \"id\", \"inputZip\", 1, \"form-control\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [1, \"form-row\"], [\"for\", \"inputCity\"], [\"type\", \"text\", \"id\", \"inputCity\", 1, \"form-control\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"id\", \"type\"], [\"name\", \"bloodType\", \"required\", \"\", 1, \"custom-select\", \"col-md-6\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-group\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"gridCheck\", 1, \"form-check-input\", 3, \"ngModel\", \"keyup.enter\", \"ngModelChange\"], [\"for\", \"gridCheck\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"value\"]],\n    template: function DonorAddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵelement(1, \"img\", 0)(2, \"br\");\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"h3\");\n        i0.ɵɵtext(5, \"Lets register for a noble cause\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 3);\n        i0.ɵɵtext(8, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 4);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_9_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 5);\n        i0.ɵɵtext(12, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 6);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_13_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.username = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 7);\n        i0.ɵɵtext(16, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 8);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_17_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 2)(19, \"label\", 9);\n        i0.ɵɵtext(20, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 10, 11);\n        i0.ɵɵlistener(\"onAddressChange\", function DonorAddComponent_Template_input_onAddressChange_21_listener($event) {\n          return ctx.handleAddressChange($event);\n        })(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_21_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.address = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 2)(24, \"label\", 12);\n        i0.ɵɵtext(25, \"Postal Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 13);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_26_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.postalCode = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 14)(28, \"div\", 2)(29, \"label\", 15);\n        i0.ɵɵtext(30, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"input\", 16);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_31_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_31_listener($event) {\n          return ctx.city = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 17)(33, \"label\");\n        i0.ɵɵtext(34, \"Blood Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"select\", 18);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_select_keyup_enter_36_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_select_ngModelChange_36_listener($event) {\n          return ctx.bloodType = $event;\n        });\n        i0.ɵɵtemplate(37, DonorAddComponent_option_37_Template, 2, 2, \"option\", 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"div\", 20)(39, \"div\", 21)(40, \"input\", 22);\n        i0.ɵɵlistener(\"keyup.enter\", function DonorAddComponent_Template_input_keyup_enter_40_listener($event) {\n          return ctx.onDonorAdd($event);\n        })(\"ngModelChange\", function DonorAddComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.isAvailable = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"label\", 23);\n        i0.ɵɵtext(42, \" Availability \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(43, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function DonorAddComponent_Template_button_click_43_listener($event) {\n          return ctx.onDonorAdd($event);\n        });\n        i0.ɵɵtext(44, \" Submit the form \");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.username);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"options\", ctx.options)(\"ngModel\", ctx.address);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.postalCode);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.city);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.bloodType);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.bloodTypes);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.isAvailable);\n      }\n    },\n    directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.GooglePlaceDirective, i3.SelectControlValueAccessor, i3.RequiredValidator, i5.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.CheckboxControlValueAccessor],\n    styles: [\".divi[_ngcontent-%COMP%]{position:relative;left:30%}select[_ngcontent-%COMP%]{height:35px}button[_ngcontent-%COMP%]{position:relative;left:15%;background-color:#aa336a}.image-divider[_ngcontent-%COMP%]{margin:20px 0;width:100%}h3[_ngcontent-%COMP%]{color:#aa336a;position:relative;left:7%}\"]\n  });\n  return DonorAddComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}